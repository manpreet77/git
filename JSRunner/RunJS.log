  
Welcome to ESQ Dispatcher Script Tool...V1.4 
Main Menu....... 
1  - Create 
2  - Ack 
3  - Ack Breach 
4  - Arrive 
5  - Hold 
6  - Resume 
7  - Resolve 
8  - Rsl Breach 
9  - Reopen 
10 - Close 
11 - SendVoiceDone 
12 - SendVoiceError 
0  - Process One Timer Event 
90 - Log the Workflow Object 
91 - Log the Event Object 
92 - Log All Timer Events in Queue 
  
Enter Choice:  
Run EventCreate.js.................................... 
Event Create Data
{targetapps=OB;OB-HD, mail=, subject=, incidenttostatus=, targetpartyid=8, acttype=Create, starttime=2016-08-26T12=18=53.957, userid=17, createdby=17, incidenttype1=1, defaultincidentpriority=0, actionruleid=1, siteid=S140086, incidentid=501, incidentactiontime=08/26/2016 12=18=53 PM, policyrole=None, targetgroup=, groupid=25, slaresolveenabled=1, incidenttosubstatus=, assetkey=90981594877864985, policywhereclause=WHERE, schedules_afhr=0, incidentfromsubstatus=, sourceproblemid=78, policyname=ATM.Others.ATM Others, Id=601, subcategory=01, partyid=0, incidenttype=1, parentincidentid=0, iscustomworkflow=0, islinked=0, targetparty=DC.ATMOps, slaresolve=480, slaacknowledge=30, policyid=78, incidentfromstatus=, externalticketid=, tenantID=1300, schedules_brhr=1, sm=true, schedules_oper=0, grouprole=NTestRole, summary=ATM.Others.ATM Others, atmmake=NCR, policy_name=ATM.Others.ATM Others, message=, slaacknowledgeenabled=1, activityid=601, actionrulename=test, problemstillexists=False, application=IMS, assignedusername=DCU.98, assetid=140086, objectkey=90981594877864985, policydetails3=ATM Others, policydetails2=Others, policydetails1=ATM, category=06, remarks=Inicdent Created} 
Run SetupEnvironment.js............................... 
Setup Environment Entered... 
Setup Environment Exiting... 
Run PrepareCreate.js.................................. 
Prepare Work for Create Entered... 
Start Timer : ei_ack_sla_breach for 1800000 ms 
Start Timer : ei_ack_sla_breach for 1800000 ms 
{targetapps=OB;OB-HD, mail=, subject=, incidenttostatus=, targetpartyid=8, acttype=Create, starttime=2016-08-26T12=18=53.957, userid=17, createdby=17, incidenttype1=1, defaultincidentpriority=0, actionruleid=1, siteid=S140086, incidentid=501, incidentactiontime=08/26/2016 12=18=53 PM, policyrole=None, targetgroup=, groupid=25, slaresolveenabled=1, incidenttosubstatus=, assetkey=90981594877864985, policywhereclause=WHERE, schedules_afhr=0, incidentfromsubstatus=, sourceproblemid=78, policyname=ATM.Others.ATM Others, Id=601, subcategory=01, partyid=0, incidenttype=1, parentincidentid=0, iscustomworkflow=0, islinked=0, targetparty=DC.ATMOps, slaresolve=480, slaacknowledge=30, policyid=78, incidentfromstatus=, externalticketid=, tenantID=1300, schedules_brhr=1, sm=true, schedules_oper=0, grouprole=NTestRole, summary=ATM.Others.ATM Others, atmmake=NCR, policy_name=ATM.Others.ATM Others, message=, slaacknowledgeenabled=1, activityid=601, actionrulename=test, problemstillexists=False, application=IMS, assignedusername=DCU.98, assetid=140086, objectkey=90981594877864985, policydetails3=ATM Others, policydetails2=Others, policydetails1=ATM, category=06, remarks=Inicdent Created} 
Prepare Work for Create Exiting... 
Run StageDispatch.js.................................. 
Stage Dispatch Entered... 
Initializing DispatchQueue... 
Dispatch maps - dmaps size ={}2 
DispatchQueue = [{"EventType":"Create","SendTime":"2016-09-05T10:11:28.527Z","DelayMins":0,"Status":"new","Channel":"Email","ContactType":"Notification","Level":"Base","AtmSchedule":"OperationalHours","FirstName":"Rajiv","LastName":"Beri","Address":"rajiv.beri@esq.com","Content":"undefined","Template":{"name":"Notification Email Template","description":"Email Template for tenants","templateType":"email","subject":"Incident Alert Notification - Incident Id: %Workflow.IncidentId% - ATM ID:SITE ID = %Workflow.TermId%:%Workflow.SiteId% - \t\t%Workflow.Category%.%Workflow.Sub_Category%.%Workflow.Sub_Sub_Category%","body":"The problem \\n%Workflow.Category%.%Workflow.Sub_Category%.%Workflow.Sub_Sub_Category% occurred on ATM ID:SITE ID = %Workflow.TermId%:%Workflow.SiteId% with Incident Id = %Workflow.IncidentId%.\\n<br>\\nPlease resolve the incident with in defined SLA %Workflow.TimeBefore1Escalation% Hours in order to avoid escalation.\\n</br>\\n<br><br><b>\\nThis is an auto-generated email. Please do not reply or write back to this Email ID. \\n</b></br></br>\\n\\n"},"WillRespond":"yes","Ttl":3600,"MaxRetries":0,"TryCount":0},{"EventType":"Create","SendTime":"2016-09-05T10:14:28.527Z","DelayMins":3,"Status":"new","Channel":"Email","ContactType":"Escalation","Level":"Level-1","AtmSchedule":"OperationalHours","FirstName":"Manpreet","LastName":"Singh","Address":"ms@esq.com","Content":"undefined","Template":{"name":"Level-1 Email Template","description":"L1-Email Template for tenants","templateType":"email","subject":"Escalation level L1 - Incident Id: %Workflow.IncidentId% - ATM ID:SITE ID = %Workflow.TermId%:%Workflow.SiteId%  - %Workflow.Category%.%Workflow.Sub_Category%.%Workflow.Sub_Sub_Category%","body":"Due to non - resolution of the  Incident Id: \\n%Workflow.IncidentId% - %Workflow.Category%.%Workflow.Sub_Category%.%Workflow.Sub_Sub_Category% for the ATM ID:SITE ID = %Workflow.TermId%:%Workflow.SiteId%, It has been escalated to Level L1. <br>Please resolve the incident in order to avoid further escalation</br> \\n      \\n<br><b>This is an auto-generated email. Please do not reply or write back to this Email ID.</b></br>\\n"},"WillRespond":"yes","Ttl":3600,"MaxRetries":0,"TryCount":0}] 
Start Timer : ei_send_dispatch for 0 ms 
Stage Dispatch Exiting... 
Main Menu....... 
1  - Create 
2  - Ack 
3  - Ack Breach 
4  - Arrive 
5  - Hold 
6  - Resume 
7  - Resolve 
8  - Rsl Breach 
9  - Reopen 
10 - Close 
11 - SendVoiceDone 
12 - SendVoiceError 
0  - Process One Timer Event 
90 - Log the Workflow Object 
91 - Log the Event Object 
92 - Log All Timer Events in Queue 
  
Enter Choice:  
Quitting..............................................

 
